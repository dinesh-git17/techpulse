@import "tailwindcss";

/**
 * TechPulse Design System — Color & Alpha Architecture
 *
 * Naming convention: --tp-color-{category}-{variant}
 * Alpha support: Colors defined as RGB channels for <alpha-value> syntax
 * Theme: Dark mode implemented, light mode structured but inactive
 */

:root {
  /* ═══════════════════════════════════════════════════════════════════════════
   * PRIMITIVE PALETTE — Raw color values as RGB channels
   * These are NOT consumed directly; semantic tokens reference these.
   * ═══════════════════════════════════════════════════════════════════════════ */

  /* Brand — Cyan/Teal spectrum (#0EA5E9 family) */
  --tp-primitive-brand-50: 240 249 255;
  --tp-primitive-brand-100: 224 242 254;
  --tp-primitive-brand-200: 186 230 253;
  --tp-primitive-brand-300: 125 211 252;
  --tp-primitive-brand-400: 56 189 248;
  --tp-primitive-brand-500: 14 165 233;
  --tp-primitive-brand-600: 2 132 199;
  --tp-primitive-brand-700: 3 105 161;
  --tp-primitive-brand-800: 7 89 133;
  --tp-primitive-brand-900: 12 74 110;
  --tp-primitive-brand-950: 8 47 73;

  /* Neutral — Slate spectrum for UI chrome */
  --tp-primitive-neutral-50: 248 250 252;
  --tp-primitive-neutral-100: 241 245 249;
  --tp-primitive-neutral-200: 226 232 240;
  --tp-primitive-neutral-300: 203 213 225;
  --tp-primitive-neutral-400: 148 163 184;
  --tp-primitive-neutral-500: 100 116 139;
  --tp-primitive-neutral-600: 71 85 105;
  --tp-primitive-neutral-700: 51 65 85;
  --tp-primitive-neutral-800: 30 41 59;
  --tp-primitive-neutral-900: 15 23 42;
  --tp-primitive-neutral-950: 2 6 23;

  /* Semantic Status — Success (Green) */
  --tp-primitive-success-400: 74 222 128;
  --tp-primitive-success-500: 34 197 94;
  --tp-primitive-success-600: 22 163 74;

  /* Semantic Status — Warning (Amber) */
  --tp-primitive-warning-400: 251 191 36;
  --tp-primitive-warning-500: 245 158 11;
  --tp-primitive-warning-600: 217 119 6;

  /* Semantic Status — Danger (Red) */
  --tp-primitive-danger-400: 248 113 113;
  --tp-primitive-danger-500: 239 68 68;
  --tp-primitive-danger-600: 220 38 38;

  /* ═══════════════════════════════════════════════════════════════════════════
   * LIGHT MODE SEMANTIC TOKENS (Structured, inactive by default)
   * Activate by removing dark mode media query override
   * ═══════════════════════════════════════════════════════════════════════════ */

  /* Surface hierarchy — Light */
  --tp-color-surface-primary: var(--tp-primitive-neutral-50);
  --tp-color-surface-secondary: var(--tp-primitive-neutral-100);
  --tp-color-surface-tertiary: var(--tp-primitive-neutral-200);
  --tp-color-surface-elevated: 255 255 255;
  --tp-color-surface-sunken: var(--tp-primitive-neutral-200);

  /* Text hierarchy — Light */
  --tp-color-text-primary: var(--tp-primitive-neutral-900);
  --tp-color-text-secondary: var(--tp-primitive-neutral-600);
  --tp-color-text-muted: var(--tp-primitive-neutral-500);
  --tp-color-text-inverted: var(--tp-primitive-neutral-50);

  /* Border hierarchy — Light */
  --tp-color-border-default: var(--tp-primitive-neutral-200);
  --tp-color-border-muted: var(--tp-primitive-neutral-100);
  --tp-color-border-strong: var(--tp-primitive-neutral-300);

  /* Action colors — Light */
  --tp-color-action-primary: var(--tp-primitive-brand-500);
  --tp-color-action-primary-hover: var(--tp-primitive-brand-600);
  --tp-color-action-primary-active: var(--tp-primitive-brand-700);

  /* Status colors — Light */
  --tp-color-status-success: var(--tp-primitive-success-600);
  --tp-color-status-success-muted: var(--tp-primitive-success-500);
  --tp-color-status-warning: var(--tp-primitive-warning-600);
  --tp-color-status-warning-muted: var(--tp-primitive-warning-500);
  --tp-color-status-danger: var(--tp-primitive-danger-600);
  --tp-color-status-danger-muted: var(--tp-primitive-danger-500);

  /* Interactive states — Light */
  --tp-color-focus-ring: var(--tp-primitive-brand-500);
  --tp-color-highlight: var(--tp-primitive-brand-100);
}

/* ═══════════════════════════════════════════════════════════════════════════
 * DARK MODE SEMANTIC TOKENS (Active implementation)
 * ═══════════════════════════════════════════════════════════════════════════ */
@media (prefers-color-scheme: dark) {
  :root {
    /* Surface hierarchy — Dark cockpit aesthetic */
    --tp-color-surface-primary: 13 17 23;
    --tp-color-surface-secondary: 22 27 34;
    --tp-color-surface-tertiary: 33 38 45;
    --tp-color-surface-elevated: 36 41 51;
    --tp-color-surface-sunken: 1 4 9;

    /* Text hierarchy — High readability on dark */
    --tp-color-text-primary: 230 237 243;
    --tp-color-text-secondary: 139 148 158;
    --tp-color-text-muted: 110 118 129;
    --tp-color-text-inverted: var(--tp-primitive-neutral-900);

    /* Border hierarchy — Subtle definition on dark */
    --tp-color-border-default: 48 54 61;
    --tp-color-border-muted: 33 38 45;
    --tp-color-border-strong: 68 76 86;

    /* Glass border — Shimmer effect for glass panels */
    --tp-color-border-glass: 255 255 255;

    /* Action colors — Luminescent cyan on dark */
    --tp-color-action-primary: var(--tp-primitive-brand-400);
    --tp-color-action-primary-hover: var(--tp-primitive-brand-300);
    --tp-color-action-primary-active: var(--tp-primitive-brand-500);

    /* Status colors — Elevated luminosity for dark */
    --tp-color-status-success: var(--tp-primitive-success-400);
    --tp-color-status-success-muted: var(--tp-primitive-success-500);
    --tp-color-status-warning: var(--tp-primitive-warning-400);
    --tp-color-status-warning-muted: var(--tp-primitive-warning-500);
    --tp-color-status-danger: var(--tp-primitive-danger-400);
    --tp-color-status-danger-muted: var(--tp-primitive-danger-500);

    /* Interactive states — Dark mode optimized */
    --tp-color-focus-ring: var(--tp-primitive-brand-400);
    --tp-color-highlight: var(--tp-primitive-brand-950);
  }
}

/* Force dark mode for initial release (override system preference) */
:root {
  color-scheme: dark;

  /* Surface hierarchy — Dark cockpit aesthetic */
  --tp-color-surface-primary: 13 17 23;
  --tp-color-surface-secondary: 22 27 34;
  --tp-color-surface-tertiary: 33 38 45;
  --tp-color-surface-elevated: 36 41 51;
  --tp-color-surface-sunken: 1 4 9;

  /* Text hierarchy — High readability on dark */
  --tp-color-text-primary: 230 237 243;
  --tp-color-text-secondary: 139 148 158;
  --tp-color-text-muted: 110 118 129;
  --tp-color-text-inverted: var(--tp-primitive-neutral-900);

  /* Border hierarchy — Subtle definition on dark */
  --tp-color-border-default: 48 54 61;
  --tp-color-border-muted: 33 38 45;
  --tp-color-border-strong: 68 76 86;

  /* Glass border — Shimmer effect for glass panels */
  --tp-color-border-glass: 255 255 255;

  /* Action colors — Luminescent cyan on dark */
  --tp-color-action-primary: var(--tp-primitive-brand-400);
  --tp-color-action-primary-hover: var(--tp-primitive-brand-300);
  --tp-color-action-primary-active: var(--tp-primitive-brand-500);

  /* Status colors — Elevated luminosity for dark */
  --tp-color-status-success: var(--tp-primitive-success-400);
  --tp-color-status-success-muted: var(--tp-primitive-success-500);
  --tp-color-status-warning: var(--tp-primitive-warning-400);
  --tp-color-status-warning-muted: var(--tp-primitive-warning-500);
  --tp-color-status-danger: var(--tp-primitive-danger-400);
  --tp-color-status-danger-muted: var(--tp-primitive-danger-500);

  /* Interactive states — Dark mode optimized */
  --tp-color-focus-ring: var(--tp-primitive-brand-400);
  --tp-color-highlight: var(--tp-primitive-brand-950);
}

/* ═══════════════════════════════════════════════════════════════════════════
 * TAILWIND THEME INTEGRATION
 * Maps CSS variables to Tailwind utilities with alpha-value support
 * Usage: bg-surface-primary, text-primary, border-default, bg-surface-primary/50
 * ═══════════════════════════════════════════════════════════════════════════ */
@theme inline {
  /* ─────────────────────────────────────────────────────────────────────────
   * TYPOGRAPHY — "Data Dense" Type Scale
   * Optimized for analytical dashboards with micro sizes for dense data tables.
   * Line heights tuned for scanning numerical data.
   * ───────────────────────────────────────────────────────────────────────── */

  /* Font stacks */
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);

  /* Type scale with data-optimized line heights */
  --text-micro-xs: 0.6875rem;
  --text-micro-xs--line-height: 1rem;

  --text-micro: 0.75rem;
  --text-micro--line-height: 1.125rem;

  --text-xs: 0.8125rem;
  --text-xs--line-height: 1.25rem;

  --text-sm: 0.875rem;
  --text-sm--line-height: 1.375rem;

  --text-base: 1rem;
  --text-base--line-height: 1.5rem;

  --text-lg: 1.125rem;
  --text-lg--line-height: 1.75rem;

  --text-xl: 1.25rem;
  --text-xl--line-height: 1.75rem;

  --text-2xl: 1.5rem;
  --text-2xl--line-height: 2rem;

  --text-3xl: 1.875rem;
  --text-3xl--line-height: 2.25rem;

  --text-4xl: 2.25rem;
  --text-4xl--line-height: 2.5rem;

  --text-5xl: 3rem;
  --text-5xl--line-height: 1;

  /* Surface colors — Backgrounds */
  --color-surface-primary: rgb(var(--tp-color-surface-primary) / <alpha-value>);
  --color-surface-secondary: rgb(
    var(--tp-color-surface-secondary) / <alpha-value>
  );
  --color-surface-tertiary: rgb(
    var(--tp-color-surface-tertiary) / <alpha-value>
  );
  --color-surface-elevated: rgb(
    var(--tp-color-surface-elevated) / <alpha-value>
  );
  --color-surface-sunken: rgb(var(--tp-color-surface-sunken) / <alpha-value>);

  /* Text colors */
  --color-text-primary: rgb(var(--tp-color-text-primary) / <alpha-value>);
  --color-text-secondary: rgb(var(--tp-color-text-secondary) / <alpha-value>);
  --color-text-muted: rgb(var(--tp-color-text-muted) / <alpha-value>);
  --color-text-inverted: rgb(var(--tp-color-text-inverted) / <alpha-value>);

  /* Border colors */
  --color-border-default: rgb(var(--tp-color-border-default) / <alpha-value>);
  --color-border-muted: rgb(var(--tp-color-border-muted) / <alpha-value>);
  --color-border-strong: rgb(var(--tp-color-border-strong) / <alpha-value>);
  --color-border-glass: rgb(var(--tp-color-border-glass) / <alpha-value>);

  /* Action colors */
  --color-action-primary: rgb(var(--tp-color-action-primary) / <alpha-value>);
  --color-action-primary-hover: rgb(
    var(--tp-color-action-primary-hover) / <alpha-value>
  );
  --color-action-primary-active: rgb(
    var(--tp-color-action-primary-active) / <alpha-value>
  );

  /* Status colors */
  --color-status-success: rgb(var(--tp-color-status-success) / <alpha-value>);
  --color-status-success-muted: rgb(
    var(--tp-color-status-success-muted) / <alpha-value>
  );
  --color-status-warning: rgb(var(--tp-color-status-warning) / <alpha-value>);
  --color-status-warning-muted: rgb(
    var(--tp-color-status-warning-muted) / <alpha-value>
  );
  --color-status-danger: rgb(var(--tp-color-status-danger) / <alpha-value>);
  --color-status-danger-muted: rgb(
    var(--tp-color-status-danger-muted) / <alpha-value>
  );

  /* Interactive states */
  --color-focus-ring: rgb(var(--tp-color-focus-ring) / <alpha-value>);
  --color-highlight: rgb(var(--tp-color-highlight) / <alpha-value>);

  /* Brand primitives — Exposed for direct access when needed */
  --color-brand-50: rgb(var(--tp-primitive-brand-50) / <alpha-value>);
  --color-brand-100: rgb(var(--tp-primitive-brand-100) / <alpha-value>);
  --color-brand-200: rgb(var(--tp-primitive-brand-200) / <alpha-value>);
  --color-brand-300: rgb(var(--tp-primitive-brand-300) / <alpha-value>);
  --color-brand-400: rgb(var(--tp-primitive-brand-400) / <alpha-value>);
  --color-brand-500: rgb(var(--tp-primitive-brand-500) / <alpha-value>);
  --color-brand-600: rgb(var(--tp-primitive-brand-600) / <alpha-value>);
  --color-brand-700: rgb(var(--tp-primitive-brand-700) / <alpha-value>);
  --color-brand-800: rgb(var(--tp-primitive-brand-800) / <alpha-value>);
  --color-brand-900: rgb(var(--tp-primitive-brand-900) / <alpha-value>);
  --color-brand-950: rgb(var(--tp-primitive-brand-950) / <alpha-value>);

  /* Legacy compatibility aliases */
  --color-background: rgb(var(--tp-color-surface-primary) / <alpha-value>);
  --color-foreground: rgb(var(--tp-color-text-primary) / <alpha-value>);

  /* ─────────────────────────────────────────────────────────────────────────
   * Z-INDEX & ELEVATION — Strict Semantic Scale
   * Exactly 6 named layers. Arbitrary z-indices are prohibited.
   * Tooltips bypass this stack via portals.
   * ───────────────────────────────────────────────────────────────────────── */

  /* Disable default Tailwind z-index utilities */
  --z-0: initial;
  --z-10: initial;
  --z-20: initial;
  --z-30: initial;
  --z-40: initial;
  --z-50: initial;
  --z-auto: initial;

  /* Semantic z-index scale */
  --z-base: 0;
  --z-raised: 10;
  --z-sticky: 100;
  --z-overlay: 200;
  --z-modal: 300;
  --z-toast: 400;
}

/* ═══════════════════════════════════════════════════════════════════════════
 * BASE STYLES
 * ═══════════════════════════════════════════════════════════════════════════ */
body {
  background: rgb(var(--tp-color-surface-primary));
  color: rgb(var(--tp-color-text-primary));
}

/* ─────────────────────────────────────────────────────────────────────────
 * TYPOGRAPHY — Font Feature Settings
 * Tabular numbers (tnum): Fixed-width digits for aligned columns
 * Slashed zero (zero): Distinguishes 0 from O
 * Stylistic set 01 (ss01): Disambiguates 1/l/I in supported fonts
 * ───────────────────────────────────────────────────────────────────────── */
html {
  font-feature-settings:
    "tnum" on,
    "zero" on,
    "ss01" on;
}

/* Explicit tabular figures for elements that commonly display numbers */
.font-mono,
[class*="font-mono"],
code,
pre,
kbd,
samp,
table,
th,
td,
time,
[data-numeric] {
  font-variant-numeric: tabular-nums slashed-zero;
}

/* Focus visible — Consistent focus ring across interactive elements */
:focus-visible {
  outline: 2px solid rgb(var(--tp-color-focus-ring));
  outline-offset: 2px;
}

/* ─────────────────────────────────────────────────────────────────────────
 * STACKING CONTEXT UTILITIES
 * Use `.stacking-context` to create isolated stacking contexts that prevent
 * z-index conflicts between unrelated components.
 * ───────────────────────────────────────────────────────────────────────── */
.stacking-context {
  isolation: isolate;
}

/*
 * Portal Strategy for Tooltips:
 * Tooltips render via React portals directly into document.body,
 * bypassing the main stacking context. Use z-index: 9999 inline
 * for tooltip portal containers only.
 *
 * Example:
 * createPortal(<Tooltip style={{ zIndex: 9999 }} />, document.body)
 */

/* ═══════════════════════════════════════════════════════════════════════════
 * UTILITY ANIMATIONS
 * ═══════════════════════════════════════════════════════════════════════════ */
@keyframes skeleton-pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.4;
  }
}

.animate-skeleton-pulse {
  animation: skeleton-pulse 1.5s ease-in-out infinite;
}
